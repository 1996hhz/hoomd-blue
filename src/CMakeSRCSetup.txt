# Highly Optimized Object-Oriented Molecular Dynamics (HOOMD) Open
# Source Software License
# Copyright (c) 2008 Ames Laboratory Iowa State University
# All rights reserved.

# Redistribution and use of HOOMD, in source and binary forms, with or
# without modification, are permitted, provided that the following
# conditions are met:

# * Redistributions of source code must retain the above copyright notice,
# this list of conditions and the following disclaimer.

# * Redistributions in binary form must reproduce the above copyright
# notice, this list of conditions and the following disclaimer in the
# documentation and/or other materials provided with the distribution.

# * Neither the name of the copyright holder nor the names HOOMD's
# contributors may be used to endorse or promote products derived from this
# software without specific prior written permission.

# Disclaimer

# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDER AND
# CONTRIBUTORS ``AS IS''  AND ANY EXPRESS OR IMPLIED WARRANTIES,
# INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
# AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 

# IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS  BE LIABLE
# FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
# CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
# SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
# INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
# CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
# THE POSSIBILITY OF SUCH DAMAGE.

# $Id$
# $URL$

#################################
## Setup include directories and file lists for sub directories
include_directories(${HOOMD_SOURCE_DIR}/utils ${HOOMD_SOURCE_DIR}/data_structures ${HOOMD_SOURCE_DIR}/computes
					${HOOMD_SOURCE_DIR}/updaters ${HOOMD_SOURCE_DIR}/cuda ${HOOMD_SOURCE_DIR}/analyzers
					${HOOMD_SOURCE_DIR}/computes_gpu
					${HOOMD_SOURCE_DIR}/updaters_gpu
					${HOOMD_SOURCE_DIR}/system
					${HOOMD_SOURCE_DIR}/extern
					${CUDA_INCLUDE}
					${BOOST_INCLUDE_DIRS}
					${HOOMD_BINARY_DIR}/utils)

# list of all sources in various source directories
file(GLOB UTILS_SRCS ${HOOMD_SOURCE_DIR}/utils/*.cc ${HOOMD_SOURCE_DIR}/utils/*.h)
file(GLOB DATA_STRUCT_SRCS ${HOOMD_SOURCE_DIR}/data_structures/*.cc ${HOOMD_SOURCE_DIR}/data_structures/*.h)
file(GLOB COMPUTES_SRCS ${HOOMD_SOURCE_DIR}/computes/*.cc ${HOOMD_SOURCE_DIR}/computes/*.h)
file(GLOB COMPUTES_GPU_SRCS ${HOOMD_SOURCE_DIR}/computes_gpu/*.cc ${HOOMD_SOURCE_DIR}/computes_gpu/*.h)
file(GLOB UPDATER_SRCS ${HOOMD_SOURCE_DIR}/updaters/*.cc ${HOOMD_SOURCE_DIR}/updaters/*.h)
file(GLOB UPDATER_GPU_SRCS ${HOOMD_SOURCE_DIR}/updaters_gpu/*.cc ${HOOMD_SOURCE_DIR}/updaters_gpu/*.h)
file(GLOB ANALYZER_SRCS ${HOOMD_SOURCE_DIR}/analyzers/*.cc ${HOOMD_SOURCE_DIR}/analyzers/*.h)
file(GLOB EXTERN_SRCS ${HOOMD_SOURCE_DIR}/extern/*.cc ${HOOMD_SOURCE_DIR}/extern/*.h)
file(GLOB SYSTEM_SRCS ${HOOMD_SOURCE_DIR}/system/*.cc ${HOOMD_SOURCE_DIR}/system/*.h)
file(GLOB PYTHON_SRCS ${HOOMD_SOURCE_DIR}/python/*.cc)
file(GLOB CUDA_SRCS ${HOOMD_SOURCE_DIR}/cuda/*.cu CUDA_SRCS ${HOOMD_SOURCE_DIR}/cuda/*.h)

# make some convenience variables
set(HOOMD_CPU_SRCS ${UTILS_SRCS} ${DATA_STRUCT_SRCS} ${COMPUTES_SRCS} ${UPDATER_SRCS} ${ANALYZER_SRCS} ${EXTERN_SRCS} ${SYSTEM_SRCS})

set(HOOMD_GPU_SRCS ${COMPUTES_GPU_SRCS} ${UPDATER_GPU_SRCS} ${CUDA_SRCS})

#######################
## Configure the version info header file


# handle linux/mac and windows dates differently
if (NOT WIN32)
	exec_program("date" OUTPUT_VARIABLE COMPILE_DATE)
else(NOT WIN32)
	exec_program("cmd" ARGS "/c date /T" OUTPUT_VARIABLE COMPILE_DATE)
endif (NOT WIN32)

configure_file (${HOOMD_SOURCE_DIR}/utils/HOOMDVersion.h.in ${HOOMD_BINARY_DIR}/utils/HOOMDVersion.h)
